{% extends 'minecraft_app/base.html' %}
{% load static %}

{% block title %}{{ post.title }} - GeoMC News{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/news_detail.css' %}">
{% endblock %}

{% block content %}
<!-- Page Header -->
<section class="page-header">
    <h1>News Article</h1>
</section>

<!-- News Detail Section -->
<section class="section">
    <div class="container">
        <div class="news-detail-container">
            {% if post %}
                <div class="news-detail-header">
                    <h1 class="news-detail-title">{{ post.title }}</h1>
                    <div class="news-detail-meta">
                        <div class="meta-item">
                            <i class="fas fa-calendar-alt"></i>
                            <span>{{ post.created_at|date:"F j, Y" }}</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-user"></i>
                            <span>{{ post.author.username }}</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-tag"></i>
                            <span>News</span>
                        </div>
                    </div>
                </div>
                
                {% if post.image %}
                    <div class="news-feature-image">
                        <img src="{{ post.image }}" alt="{{ post.title }}">
                    </div>
                {% endif %}
                
                <div class="news-content">
                    {{ post.content|safe|linebreaks }}
                </div>
                
                <div class="news-author-box">
                    <div class="author-avatar">
                        <img src="{% static 'images/default-avatar.jpg' %}" alt="{{ post.author.username }}">
                    </div>
                    <div class="author-info">
                        <div class="author-name">{{ post.author.username }}</div>
                        <div class="author-role">Staff Member</div>
                        <div class="author-bio">GeoMC staff member responsible for keeping the community updated with the latest news and events.</div>
                    </div>
                </div>
                
                <div class="news-share">
                    <div class="share-label">Share:</div>
                    <div class="share-buttons">
                        <a href="#" class="facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="discord"><i class="fab fa-discord"></i></a>
                        <a href="#" class="reddit"><i class="fab fa-reddit-alien"></i></a>
                    </div>
                </div>
                
                <div class="related-news">
                    <h2>Related News</h2>
                    <div class="related-news-grid">
                        <!-- Sample related news items -->
                        <div class="related-news-item">
                            <div class="related-news-image">
                                <img src="{% static 'images/default-news.jpg' %}" alt="Related News">
                            </div>
                            <div class="related-news-content">
                                <div class="related-news-date">April 15, 2025</div>
                                <h3 class="related-news-title">
                                    <a href="#">Server Update v2.5 Released</a>
                                </h3>
                            </div>
                        </div>
                        
                        <div class="related-news-item">
                            <div class="related-news-image">
                                <img src="{% static 'images/default-news.jpg' %}" alt="Related News">
                            </div>
                            <div class="related-news-content">
                                <div class="related-news-date">April 10, 2025</div>
                                <h3 class="related-news-title">
                                    <a href="#">Spring Festival Event Coming Soon</a>
                                </h3>
                            </div>
                        </div>
                        
                        <div class="related-news-item">
                            <div class="related-news-image">
                                <img src="{% static 'images/default-news.jpg' %}" alt="Related News">
                            </div>
                            <div class="related-news-content">
                                <div class="related-news-date">April 5, 2025</div>
                                <h3 class="related-news-title">
                                    <a href="#">Nation Wars Tournament Results</a>
                                </h3>
                            </div>
                        </div>
                    </div>
                </div>
            {% else %}
                <!-- Sample post if none is available -->
                <div class="news-detail-header">
                    <h1 class="news-detail-title">Major Update: New Towny Features Released!</h1>
                    <div class="news-detail-meta">
                        <div class="meta-item">
                            <i class="fas fa-calendar-alt"></i>
                            <span>April 18, 2025</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-user"></i>
                            <span>ServerAdmin</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-tag"></i>
                            <span>Updates</span>
                        </div>
                    </div>
                </div>
                
                <div class="news-feature-image">
                    <img src="{% static 'images/default-news.jpg' %}" alt="News Feature Image">
                </div>
                
                <div class="news-content">
                    <p>We're excited to announce the release of our newest server update featuring enhanced Towny functionality, new building tools, and various performance improvements to make your gameplay smoother than ever before!</p>
                    
                    <h2>New Towny Features</h2>
                    
                    <p>The Towny plugin has been updated to the latest version with several exciting new features:</p>
                    
                    <ul>
                        <li><strong>Enhanced Town Permissions</strong> - Town mayors can now set more granular permissions for residents, allowing for better organization and management.</li>
                        <li><strong>Nation Alliances</strong> - Nations can now form official alliances that grant mutual benefits and protection.</li>
                        <li><strong>Town Levels</strong> - Towns can now level up based on resident count, total wealth, and age, unlocking new perks with each level.</li>
                        <li><strong>Custom Claims</strong> - Towns can now create custom-shaped claims instead of being limited to chunk-based squares.</li>
                    </ul>
                    
                    <h2>Building Improvements</h2>
                    
                    <p>We've added several new tools to enhance your building experience:</p>
                    
                    <ul>
                        <li><strong>WorldEdit for Town Mayors</strong> - Town mayors now have access to basic WorldEdit commands within their town borders.</li>
                        <li><strong>Custom Heads Library</strong> - Access hundreds of custom decorative heads for your builds.</li>
                        <li><strong>Extended Building Height</strong> - The world height has been increased to allow for taller structures.</li>
                    </ul>
                    
                    <blockquote>This update represents our commitment to providing the best Towny experience possible. We've listened to your feedback and implemented many of the most requested features. - Server Development Team</blockquote>
                    
                    <h2>Performance Improvements</h2>
                    
                    <p>We've made significant optimizations to ensure smooth gameplay even during peak hours:</p>
                    
                    <ul>
                        <li>Server hardware upgrades for better performance</li>
                        <li>Optimized chunk loading to reduce lag</li>
                        <li>Improved entity handling to minimize TPS drops</li>
                        <li>Enhanced anti-lag measures that automatically clean up excessive entities</li>
                    </ul>
                    
                    <p>These improvements should result in a much smoother experience for everyone, especially during events and when many players are online simultaneously.</p>
                    
                    <h2>Getting Started</h2>
                    
                    <p>To take advantage of these new features, simply log in to the server! Town mayors will automatically have access to the new permissions system, and nations can start forming alliances right away.</p>
                    
                    <p>For detailed documentation on all the new features, visit our wiki or join our Discord server for assistance.</p>
                    
                    <p>We're excited to see how you'll use these new features to enhance your towns and nations. Happy building!</p>
                </div>
                
                <div class="news-author-box">
                    <div class="author-avatar">
                        <img src="{% static 'images/default-avatar.jpg' %}" alt="ServerAdmin">
                    </div>
                    <div class="author-info">
                        <div class="author-name">ServerAdmin</div>
                        <div class="author-role">Lead Administrator</div>
                        <div class="author-bio">Server administrator responsible for development, updates, and ensuring everything runs smoothly on GeoMC.</div>
                    </div>
                </div>
                
                <div class="news-share">
                    <div class="share-label">Share:</div>
                    <div class="share-buttons">
                        <a href="#" class="facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="twitter"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="discord"><i class="fab fa-discord"></i></a>
                        <a href="#" class="reddit"><i class="fab fa-reddit-alien"></i></a>
                    </div>
                </div>
                
                <div class="related-news">
                    <h2>Related News</h2>
                    <div class="related-news-grid">
                        <div class="related-news-item">
                            <div class="related-news-image">
                                <img src="{% static 'images/default-news.jpg' %}" alt="Related News">
                            </div>
                            <div class="related-news-content">
                                <div class="related-news-date">April 15, 2025</div>
                                <h3 class="related-news-title">
                                    <a href="#">Server Update v2.5 Released</a>
                                </h3>
                            </div>
                        </div>
                        
                        <div class="related-news-item">
                            <div class="related-news-image">
                                <img src="{% static 'images/default-news.jpg' %}" alt="Related News">
                            </div>
                            <div class="related-news-content">
                                <div class="related-news-date">April 10, 2025</div>
                                <h3 class="related-news-title">
                                    <a href="#">Spring Festival Event Coming Soon</a>
                                </h3>
                            </div>
                        </div>
                        
                        <div class="related-news-item">
                            <div class="related-news-image">
                                <img src="{% static 'images/default-news.jpg' %}" alt="Related News">
                            </div>
                            <div class="related-news-content">
                                <div class="related-news-date">April 5, 2025</div>
                                <h3 class="related-news-title">
                                    <a href="#">Nation Wars Tournament Results</a>
                                </h3>
                            </div>
                        </div>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
</section>
{% endblock %}