{% extends 'minecraft_app/base.html' %}
{% load static %}

{% block title %}Store - GeoMC Towny Earth Server{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/store.css' %}">
{% endblock %}

{% block content %}
<!-- Page Header -->
<section class="page-header">
    <h1>Store</h1>
</section>

<!-- Store Section -->
<section class="section">
    <div class="container">
        <div class="store-header">
            <h2 class="section-title">Support the Server</h2>
            <p class="section-subtitle">Get exclusive perks and help us keep the adventure going</p>
            <p>Our server is maintained by a passionate team of volunteers. Your support helps us cover server costs and develop new features for everyone to enjoy.</p>
        </div>
        
        <div class="store-grid">
            {% for rank in ranks %}
                <div class="product-card product-{{ rank.name|lower }}">
                    <div class="product-header">
                        <h3 class="product-name" style="color: {{ rank.color_code }}">{{ rank.name }}</h3>
                        <div class="product-price">€{{ rank.price }}<span class="price-unit">/lifetime</span></div>
                        {% if rank.name == "Premium" %}
                            <div class="promotion-badge">Popular</div>
                        {% endif %}
                    </div>
                    
                    <div class="product-content">
                        <div class="product-description">
                            {{ rank.description }}
                        </div>
                        
                        <div class="product-features">
                            <ul class="feature-list">
                                {% if rank.name == "VIP" %}
                                    <li><i class="fas fa-check-circle"></i> Colored chat and name tag</li>
                                    <li><i class="fas fa-check-circle"></i> Access to /fly in the lobby</li>
                                    <li><i class="fas fa-check-circle"></i> Set 2 homes</li>
                                    <li><i class="fas fa-check-circle"></i> Special VIP Discord role</li>
                                {% elif rank.name == "Premium" %}
                                    <li><i class="fas fa-check-circle"></i> All VIP features</li>
                                    <li><i class="fas fa-check-circle"></i> Access to /enderchest</li>
                                    <li><i class="fas fa-check-circle"></i> Set 5 homes</li>
                                    <li><i class="fas fa-check-circle"></i> 20% shop discount</li>
                                    <li><i class="fas fa-check-circle"></i> Premium Discord role</li>
                                {% elif rank.name == "Elite" %}
                                    <li><i class="fas fa-check-circle"></i> All Premium features</li>
                                    <li><i class="fas fa-check-circle"></i> Access to /workbench</li>
                                    <li><i class="fas fa-check-circle"></i> Set 10 homes</li>
                                    <li><i class="fas fa-check-circle"></i> 30% shop discount</li>
                                    <li><i class="fas fa-check-circle"></i> Elite Discord role</li>
                                    <li><i class="fas fa-check-circle"></i> Custom particle effects</li>
                                {% elif rank.name == "Legend" %}
                                    <li><i class="fas fa-check-circle"></i> All Elite features</li>
                                    <li><i class="fas fa-check-circle"></i> Set unlimited homes</li>
                                    <li><i class="fas fa-check-circle"></i> 50% shop discount</li>
                                    <li><i class="fas fa-check-circle"></i> Legend Discord role</li>
                                    <li><i class="fas fa-check-circle"></i> Custom join messages</li>
                                    <li><i class="fas fa-check-circle"></i> Monthly title customization</li>
                                    <li><i class="fas fa-check-circle"></i> Priority server access</li>
                                {% else %}
                                    <li><i class="fas fa-check-circle"></i> Feature 1</li>
                                    <li><i class="fas fa-check-circle"></i> Feature 2</li>
                                    <li><i class="fas fa-check-circle"></i> Feature 3</li>
                                {% endif %}
                            </ul>
                        </div>
                    </div>
                    
                    <div class="product-footer">
                        <a href="{% url 'checkout' rank.id %}" class="btn" style="background-color: {{ rank.color_code }}">Purchase now</a>
                    </div>
                </div>
            {% empty %}
                <!-- Example ranks if none are available in database -->
                <div class="product-card product-vip">
                    <div class="product-header">
                        <h3 class="product-name">VIP</h3>
                        <div class="product-price">€5<span class="price-unit">/lifetime</span></div>
                    </div>
                    
                    <div class="product-content">
                        <div class="product-description">
                            Essential perks for the casual player. Get access to basic commands and quality of life improvements.
                        </div>
                        
                        <div class="product-features">
                            <ul class="feature-list">
                                <li><i class="fas fa-check-circle"></i> Colored chat and name tag</li>
                                <li><i class="fas fa-check-circle"></i> Access to /fly in the lobby</li>
                                <li><i class="fas fa-check-circle"></i> Set 2 homes</li>
                                <li><i class="fas fa-check-circle"></i> Special VIP Discord role</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="product-footer">
                        <a href="{% url 'checkout' rank.id %}" class="btn" style="background-color: {{ rank.color_code }}">Purchase now</a>
                    </div>
                </div>
                
                <div class="product-card product-premium">
                    <div class="product-header">
                        <h3 class="product-name">Premium</h3>
                        <div class="product-price">€10<span class="price-unit">/lifetime</span></div>
                        <div class="promotion-badge">Popular</div>
                    </div>
                    
                    <div class="product-content">
                        <div class="product-description">
                            Enhanced gameplay features for the dedicated player. Enjoy more convenience and customization options.
                        </div>
                        
                        <div class="product-features">
                            <ul class="feature-list">
                                <li><i class="fas fa-check-circle"></i> All VIP features</li>
                                <li><i class="fas fa-check-circle"></i> Access to /enderchest</li>
                                <li><i class="fas fa-check-circle"></i> Set 5 homes</li>
                                <li><i class="fas fa-check-circle"></i> 20% shop discount</li>
                                <li><i class="fas fa-check-circle"></i> Premium Discord role</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="product-footer">
                        <a href="{% url 'checkout' rank.id %}" class="btn" style="background-color: {{ rank.color_code }}">Purchase now</a>
                    </div>
                </div>
                
                <div class="product-card product-elite">
                    <div class="product-header">
                        <h3 class="product-name">Elite</h3>
                        <div class="product-price">€20<span class="price-unit">/lifetime</span></div>
                    </div>
                    
                    <div class="product-content">
                        <div class="product-description">
                            Premium features for the hardcore players. Get significant advantages and unique customization options.
                        </div>
                        
                        <div class="product-features">
                            <ul class="feature-list">
                                <li><i class="fas fa-check-circle"></i> All Premium features</li>
                                <li><i class="fas fa-check-circle"></i> Access to /workbench</li>
                                <li><i class="fas fa-check-circle"></i> Set 10 homes</li>
                                <li><i class="fas fa-check-circle"></i> 30% shop discount</li>
                                <li><i class="fas fa-check-circle"></i> Elite Discord role</li>
                                <li><i class="fas fa-check-circle"></i> Custom particle effects</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="product-footer">
                        <a href="{% url 'checkout' rank.id %}" class="btn" style="background-color: {{ rank.color_code }}">Purchase now</a>
                    </div>
                </div>
                
                <div class="product-card product-legend">
                    <div class="product-header">
                        <h3 class="product-name">Legend</h3>
                        <div class="product-price">€30<span class="price-unit">/lifetime</span></div>
                    </div>
                    
                    <div class="product-content">
                        <div class="product-description">
                            The ultimate package for true server supporters. Enjoy exclusive perks and maximum convenience.
                        </div>
                        
                        <div class="product-features">
                            <ul class="feature-list">
                                <li><i class="fas fa-check-circle"></i> All Elite features</li>
                                <li><i class="fas fa-check-circle"></i> Set unlimited homes</li>
                                <li><i class="fas fa-check-circle"></i> 50% shop discount</li>
                                <li><i class="fas fa-check-circle"></i> Legend Discord role</li>
                                <li><i class="fas fa-check-circle"></i> Custom join messages</li>
                                <li><i class="fas fa-check-circle"></i> Monthly title customization</li>
                                <li><i class="fas fa-check-circle"></i> Priority server access</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="product-footer">
                        <a href="{% url 'checkout' rank.id %}" class="btn" style="background-color: {{ rank.color_code }}">Purchase now</a>
                    </div>
                </div>
            {% endfor %}
        </div>
        
        <div class="payment-methods">
            <h3>Secure Payment Methods</h3>
            <p>We accept various payment methods for your convenience</p>
            <div class="payment-icons">
                <i class="fab fa-cc-paypal" title="PayPal"></i>
                <i class="fab fa-cc-visa" title="Visa"></i>
                <i class="fab fa-cc-mastercard" title="Mastercard"></i>
                <i class="fab fa-cc-stripe" title="Stripe"></i>
                <i class="fas fa-credit-card" title="Other Cards"></i>
            </div>
        </div>
        
        <!-- FAQ Section -->
        <div class="faq-section">
            <h2 class="section-title">Frequently Asked Questions</h2>
            
            <div class="faq-item">
                <div class="faq-question">
                    <span>How long do ranks last?</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>All purchased ranks on GeoMC are permanent. Once you buy a rank, you keep it forever, even through server resets or map changes.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    <span>How do I receive my rank after purchase?</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>Ranks are usually applied automatically within minutes of a successful purchase. If you don't receive your rank within an hour, please contact a staff member on our Discord server.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    <span>Can I upgrade my rank later?</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>Yes! If you already have a rank and want to upgrade to a higher one, you'll only need to pay the difference. Contact a staff member for assistance with upgrades.</p>
                </div>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">
                    <span>Where does the money go?</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    <p>All funds from rank purchases go directly toward server costs, including hosting, domain fees, development, and future expansions. We're a non-profit community project run by volunteers.</p>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // FAQ Toggle
        const faqQuestions = document.querySelectorAll('.faq-question');
        
        faqQuestions.forEach(question => {
            question.addEventListener('click', function() {
                const answer = this.nextElementSibling;
                
                // Toggle display
                if (answer.style.display === 'block') {
                    answer.style.display = 'none';
                    this.querySelector('i').classList.replace('fa-chevron-up', 'fa-chevron-down');
                } else {
                    answer.style.display = 'block';
                    this.querySelector('i').classList.replace('fa-chevron-down', 'fa-chevron-up');
                }
            });
        });
        
        // Initially hide all answers
        document.querySelectorAll('.faq-answer').forEach(answer => {
            answer.style.display = 'none';
        });
    });
</script>
{% endblock %}